!function(e,t,i){function s(t,i,s,r){this.slider=window[t],this.slider.started(e.proxy(this.start,this,t,i,s,r))}s.prototype.start=function(t,i,s,r){if(this.slider.sliderElement.data("fullscreen"))return!1;this.slider.sliderElement.data("fullscreen",this),this.responsive=this.slider.responsive,this._type=this.responsive.parameters.type,this._forceFull=this.responsive.parameters.forceFull,this.forceFullpage="auto"==this._type||"fullwidth"==this._type,this.forceFullpage&&(this._upscale=this.responsive.parameters.upscale,this._minimumHeightRatio=this.responsive.parameters.minimumHeightRatio,this._maximumHeightRatio=this.responsive.parameters.maximumHeightRatio),this.isFullScreen=!1,this.button=this.slider.sliderElement.find(".n2-full-screen-widget"),this.fullParent=this.slider.sliderElement.closest(".n2-ss-align"),this.browserSpecific={};var l=this.slider.sliderElement[0];if(l.requestFullscreen)this.browserSpecific.requestFullscreen="requestFullscreen",this.browserSpecific.event="fullscreenchange";else if(l.msRequestFullscreen)this.browserSpecific.requestFullscreen="msRequestFullscreen",this.browserSpecific.event="MSFullscreenChange";else if(l.mozRequestFullScreen)this.browserSpecific.requestFullscreen="mozRequestFullScreen",this.browserSpecific.event="mozfullscreenchange";else{if(!l.webkitRequestFullscreen)return void this.destroy();this.browserSpecific.requestFullscreen="webkitRequestFullscreen",this.browserSpecific.event="webkitfullscreenchange"}if(document.exitFullscreen)this.browserSpecific.exitFullscreen="exitFullscreen";else if(document.msExitFullscreen)this.browserSpecific.exitFullscreen="msExitFullscreen";else if(document.mozCancelFullScreen)this.browserSpecific.exitFullscreen="mozCancelFullScreen";else{if(!document.webkitExitFullscreen)return void this.destroy();this.browserSpecific.exitFullscreen="webkitExitFullscreen"}document.addEventListener(this.browserSpecific.event,e.proxy(this.fullScreenChange,this)),this.deferred=e.Deferred(),this.slider.sliderElement.on("SliderDevice",e.proxy(this.onDevice,this)).trigger("addWidget",this.deferred),this.button.on("click",e.proxy(this.switchState,this)),this.desktopRatio=i,this.tabletRatio=s,this.mobileRatio=r,this.button.n2imagesLoaded().always(e.proxy(this.loaded,this))},s.prototype.loaded=function(){this.width=this.button.width(),this.height=this.button.height(),this.onDevice(null,{device:this.responsive.getDeviceMode()}),this.deferred.resolve()},s.prototype.onDevice=function(e,t){var i=1;switch(t.device){case"tablet":i=this.tabletRatio;break;case"mobile":i=this.mobileRatio;break;default:i=this.desktopRatio}this.button.width(this.width*i),this.button.height(this.height*i)},s.prototype.switchState=function(){this.isFullScreen=!this.isFullScreen,this.isFullScreen?this.fullScreen():this.normalScreen()},s.prototype.fullScreen=function(){this.forceFullpage&&(this.responsive.parameters.type="fullpage",this.responsive.parameters.upscale=!0,this.responsive.parameters.forceFull=!1,this.responsive.containerElement.css("marginLeft",0)),this.fullParent.css({width:"100%",height:"100%"}).addClass("n2-ss-in-fullscreen"),this.fullParent.get(0)[this.browserSpecific.requestFullscreen]()},s.prototype.normalScreen=function(){document[this.browserSpecific.exitFullscreen](),this.fullParent.css({width:null,height:null}).removeClass("n2-ss-in-fullscreen")},s.prototype.destroy=function(){this.button.remove()},s.prototype.fullScreenChange=function(){this.isDocumentInFullScreenMode()?this.button.addClass("n2-active"):(this.button.removeClass("n2-active"),this.forceFullpage&&(this.responsive.parameters.type=this._type,this.responsive.parameters.upscale=this._upscale,this.responsive.parameters.forceFull=this._forceFull,this.responsive.parameters.minimumHeightRatio=this._minimumHeightRatio,this.responsive.parameters.maximumHeightRatio=this._maximumHeightRatio,e(window).trigger("resize")))},s.prototype.isDocumentInFullScreenMode=function(){return document.fullscreenElement&&null!==document.fullscreenElement||document.msFullscreenElement&&null!==document.msFullscreenElement||document.mozFullScreen||document.webkitIsFullScreen},t.NextendSmartSliderWidgetFullScreenImage=s}(n2,window);